<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Questionário Skincare</title>
  <!-- Importa a fonte Lora -->
  <link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">
  <style>
    /* Reset e configuração básica */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
      font-family: 'Lora', serif;
      overflow-y: auto;
    }
    /* Fundo padrão para páginas 1 a 5 */
    body.default-bg {
      background: url('imagens/fundo.jpg') no-repeat center center fixed;
      background-size: cover;
    }
    /* Container centralizado com fundo semi-transparente */
    .container {
      background: rgba(255, 255, 255, 0.9);
      padding: 30px;
      border-radius: 8px;
      width: 90%;
      max-width: 800px;
      text-align: center;
      margin: auto;
    }
    h1, h2, p {
      margin-bottom: 15px;
    }
    button, a {
      padding: 12px 24px;
      font-size: 16px;
      cursor: pointer;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s;
    }
    button:hover, a:hover {
      background-color: #0056b3;
    }
    .option {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      margin: 10px 0;
    }
    .option img {
      width: 90px;
      height: 90px;
      object-fit: cover;
      margin-right: 10px;
    }
    /* Para o contêiner de opções de desafios (página 6) */
    #optionsContainer {
      max-height: 400px;
      overflow-y: auto;
      margin: 10px 0;
    }
    /* Oculta seções que não estão ativas */
    .page {
      display: none;
    }
    .active {
      display: block;
    }
    /* Página 7: fundo preto */
    .page7 {
      background-color: black;
      color: white;
    }
    /* Página 8: fundo será definido dinamicamente conforme o kit */
  </style>
</head>
<body class="default-bg">
  <!-- Página 1: Apresentação -->
  <section id="page1" class="page active">
    <div class="container">
      <p>
        Qual a rotina de skincare ideal para a sua pele? Faça um teste agora, descubra seu tipo de pele e a rotina ideal para ela! É rapidinho.
      </p>
      <button onclick="goToPage(2)">Iniciar</button>
    </div>
  </section>

  <!-- Página 2: Nome -->
  <section id="page2" class="page">
    <div class="container">
      <h2>Qual nome devemos te chamar?</h2>
      <input type="text" id="userName" placeholder="Digite seu nome" required>
      <br>
      <button onclick="saveNameAndGoToPage(3)">Próximo</button>
    </div>
  </section>

  <!-- Página 3: Idade -->
  <section id="page3" class="page">
    <div class="container">
      <h2>Qual a sua idade?</h2>
      <form id="formAge">
        <div style="margin-bottom: 10px;">
          <input type="radio" name="age" id="age1" value="Menos de 18 anos" required>
          <label for="age1">Menos de 18 anos</label><br>
          <input type="radio" name="age" id="age2" value="18 a 24 anos">
          <label for="age2">18 a 24 anos</label><br>
          <input type="radio" name="age" id="age3" value="25 a 29 anos">
          <label for="age3">25 a 29 anos</label><br>
          <input type="radio" name="age" id="age4" value="30 a 39 anos">
          <label for="age4">30 a 39 anos</label><br>
          <input type="radio" name="age" id="age5" value="40 a 49 anos">
          <label for="age5">40 a 49 anos</label><br>
          <input type="radio" name="age" id="age6" value="50 a 59 anos">
          <label for="age6">50 a 59 anos</label><br>
          <input type="radio" name="age" id="age7" value="60+">
          <label for="age7">60+</label><br>
        </div>
      </form>
      <button onclick="saveAgeAndGoToPage(4)">Próximo</button>
    </div>
  </section>

  <!-- Página 4: Dica para identificar o tipo de pele -->
  <section id="page4" class="page">
    <div class="container">
      <p>Vamos te ajudar a identificar seu tipo de pele caso tenha dúvidas</p>
      <p style="font-size: 14px;">
        Dica: Para descobrir seu tipo de pele, lave o rosto com um sabonete neutro e espere 30 minutos sem aplicar nenhum produto. Observe como a pele reage: se ficar brilhante, é oleosa; se repuxar, é seca; se houver brilho na zona T e ressecamento nas laterais, é mista; e se houver vermelhidão ou irritação, é sensível.
      </p>
      <button onclick="goToPage(5)">Próximo</button>
    </div>
  </section>

  <!-- Página 5: Tipo de pele -->
  <section id="page5" class="page">
    <div class="container">
      <h2>Qual o seu tipo de pele?</h2>
      <form id="formSkinType">
        <div class="option">
          <img src="imagens/imagem1.jpg" alt="Imagem 1">
          <input type="radio" name="skinType" id="normal" value="normal" required>
          <label for="normal">Normal</label>
        </div>
        <div class="option">
          <img src="imagens/imagem2.jpg" alt="Imagem 2">
          <input type="radio" name="skinType" id="seca" value="seca">
          <label for="seca">Seca</label>
        </div>
        <div class="option">
          <img src="imagens/imagem3.jpg" alt="Imagem 3">
          <input type="radio" name="skinType" id="oleosa" value="oleosa">
          <label for="oleosa">Oleosa</label>
        </div>
        <div class="option">
          <img src="imagens/imagem4.jpg" alt="Imagem 4">
          <input type="radio" name="skinType" id="mista" value="mista">
          <label for="mista">Mista</label>
        </div>
        <div class="option">
          <img src="imagens/imagem5.jpg" alt="Imagem 5">
          <input type="radio" name="skinType" id="sensivel" value="sensivel">
          <label for="sensivel">Sensível</label>
        </div>
      </form>
      <button onclick="saveSkinTypeAndGoToPage(6)">Próximo</button>
    </div>
  </section>

  <!-- Página 6: Desafio da pele (opções dinâmicas) -->
  <section id="page6" class="page">
    <div class="container">
      <h2>Qual o desafio da sua pele?</h2>
      <form id="formChallenge">
        <!-- Campo oculto para manter o tipo de pele -->
        <input type="hidden" name="skinType" id="hiddenSkinType">
        <div id="optionsContainer"></div>
      </form>
      <button onclick="saveChallengeAndGoToPage(7)">Gerar Kit Skincare Ideal</button>
    </div>
  </section>

  <!-- Página 7: Carregamento -->
  <section id="page7" class="page page7">
    <div class="container">
      <p>Estamos desenvolvendo o Kit perfeito para sua rotina Skincare...</p>
    </div>
  </section>

  <!-- Página 8: Resultado -->
  <section id="page8" class="page page8">
    <div class="container" id="resultContainer">
      <!-- O resultado será gerado dinamicamente -->
    </div>
  </section>

  <script>
    // Variáveis globais para armazenar respostas
    let userName = "";
    let age = "";
    let skinType = "";
    let challenge = "";

    function goToPage(pageNumber) {
      document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
      document.getElementById('page' + pageNumber).classList.add('active');

      // Para a página 7, aguarda 4 segundos e vai para a página 8
      if (pageNumber === 7) {
        setTimeout(() => {
          goToPage(8);
          generateResult();
        }, 4000);
      }
    }

    function saveNameAndGoToPage(pageNumber) {
      const nameInput = document.getElementById("userName").value;
      if (nameInput.trim() === "") {
        alert("Por favor, insira seu nome!");
        return;
      }
      userName = nameInput;
      goToPage(pageNumber);
    }

    function saveAgeAndGoToPage(pageNumber) {
      const ageElement = document.querySelector('input[name="age"]:checked');
      if (!ageElement) {
        alert("Selecione sua idade!");
        return;
      }
      age = ageElement.value;
      goToPage(pageNumber);
    }

    function saveSkinTypeAndGoToPage(pageNumber) {
      const skinTypeElement = document.querySelector('input[name="skinType"]:checked');
      if (!skinTypeElement) {
        alert("Selecione o seu tipo de pele!");
        return;
      }
      skinType = skinTypeElement.value;
      // Preenche o campo oculto na página 6 para manter o skinType
      document.getElementById("hiddenSkinType").value = skinType;
      goToPage(pageNumber);
      loadChallengeOptions(skinType);
    }

    function loadChallengeOptions(type) {
      const container = document.getElementById("optionsContainer");
      container.innerHTML = "";
      let options = [];
      if (type === "normal") {
        options = [
          { value: "rugas", text: "Rugas / Linhas de expressão / Flacidez do rosto", img: "imagens/imagem8.jpg" },
          { value: "manchas", text: "Manchas escuras / Melasma / Cicatrizes de acne", img: "imagens/imagem10.jpg" },
          { value: "textura", text: "Textura irregular", img: "imagens/imagem14.jpg" },
          { value: "olheiras", text: "Olheiras / Bolsas abaixo dos olhos", img: "imagens/imagem15.jpg" },
          { value: "cuidados", text: "Iniciar / Manter os cuidados com a pele", img: "imagens/imagem17.jpg" }
        ];
      } else if (type === "seca") {
        options = [
          { value: "rugas", text: "Rugas / Linhas de expressão / Flacidez do rosto", img: "imagens/imagem8.jpg" },
          { value: "manchas", text: "Manchas escuras / Melasma / Cicatrizes de acne", img: "imagens/imagem10.jpg" },
          { value: "ressecamento", text: "Ressecamento / descamação", img: "imagens/imagem12.jpg" },
          { value: "textura", text: "Textura irregular", img: "imagens/imagem14.jpg" },
          { value: "olheiras", text: "Olheiras / Bolsas abaixo dos olhos", img: "imagens/imagem15.jpg" },
          { value: "cuidados", text: "Iniciar / Manter os cuidados com a pele", img: "imagens/imagem17.jpg" }
        ];
      } else if (type === "oleosa") {
        options = [
          { value: "acne", text: "Acne", img: "imagens/imagem6.jpg" },
          { value: "oleosidade", text: "Oleosidade / excesso de brilho", img: "imagens/imagem3.jpg" },
          { value: "rugas", text: "Rugas / Linhas de expressão / Flacidez do rosto", img: "imagens/imagem8.jpg" },
          { value: "manchas", text: "Manchas escuras / Melasma / Cicatrizes de acne", img: "imagens/imagem10.jpg" },
          { value: "poros", text: "Poros dilatados", img: "imagens/imagem13.jpg" },
          { value: "textura", text: "Textura irregular", img: "imagens/imagem14.jpg" },
          { value: "olheiras", text: "Olheiras / Bolsas abaixo dos olhos", img: "imagens/imagem15.jpg" },
          { value: "cuidados", text: "Iniciar / Manter os cuidados com a pele", img: "imagens/imagem17.jpg" }
        ];
      } else if (type === "mista") {
        options = [
          { value: "oleosidade", text: "Oleosidade / excesso de brilho", img: "imagens/imagem3.jpg" },
          { value: "rugas", text: "Rugas / Linhas de expressão / Flacidez do rosto", img: "imagens/imagem8.jpg" },
          { value: "manchas", text: "Manchas escuras / Melasma / Cicatrizes de acne", img: "imagens/imagem10.jpg" },
          { value: "poros", text: "Poros dilatados", img: "imagens/imagem13.jpg" },
          { value: "textura", text: "Textura irregular", img: "imagens/imagem14.jpg" },
          { value: "olheiras", text: "Olheiras / Bolsas abaixo dos olhos", img: "imagens/imagem15.jpg" },
          { value: "cuidados", text: "Iniciar / Manter os cuidados com a pele", img: "imagens/imagem17.jpg" }
        ];
      } else if (type === "sensivel") {
        options = [
          { value: "rugas", text: "Rugas / Linhas de expressão / Flacidez do rosto", img: "imagens/imagem8.jpg" },
          { value: "rosacea", text: "Rosácea / Sensibilidade extrema / Irritação recorrente", img: "imagens/imagem5.jpg" },
          { value: "manchas", text: "Manchas escuras / Melasma / Cicatrizes de acne", img: "imagens/imagem10.jpg" },
          { value: "poros", text: "Poros dilatados", img: "imagens/imagem13.jpg" },
          { value: "textura", text: "Textura irregular", img: "imagens/imagem14.jpg" },
          { value: "olheiras", text: "Olheiras / Bolsas abaixo dos olhos", img: "imagens/imagem15.jpg" },
          { value: "cuidados", text: "Iniciar / Manter os cuidados com a pele", img: "imagens/imagem17.jpg" }
        ];
      }
      const container = document.getElementById("optionsContainer");
      container.innerHTML = "";
      options.forEach((opt, index) => {
        const div = document.createElement("div");
        div.className = "option";
        div.innerHTML = `
          <img src="${opt.img}" alt="Opção ${index+1}">
          <input type="radio" name="challenge" id="challenge${index}" value="${opt.value}" required>
          <label for="challenge${index}">${opt.text}</label>
        `;
        container.appendChild(div);
      });
    }

    function saveChallengeAndGoToPage(pageNumber) {
      const challengeElement = document.querySelector('input[name="challenge"]:checked');
      if (!challengeElement) {
        alert("Selecione o desafio da sua pele!");
        return;
      }
      challenge = challengeElement.value;
      goToPage(pageNumber);
    }

    // Função para gerar o resultado na página 8 com base nas respostas
    function generateResult() {
      // Define a URL base e o mapeamento de combinações
      const baseUrl = "https://www.bioage.com.br/professional/cart/create?code=";
      const resultMapping = {
        "normal:rugas": { code: "c6fe5c94d07342", btnText: "KIT SKINCARE PELE NORMAL/RUGAS", fundo: "imagens/fundo1.jpg" },
        "normal:manchas": { code: "ce024bba0a06f4", btnText: "KIT SKINCARE PELE NORMAL/MANCHAS", fundo: "imagens/fundo2.jpg" },
        "normal:textura": { code: "c9177722052e73", btnText: "KIT SKINCARE PELE NORMAL/TEXTURA IRREGULAR", fundo: "imagens/fundo3.jpg" },
        "normal:olheiras": { code: "c099b95cfbc592", btnText: "KIT SKINCARE PELE NORMAL/OLHEIRAS/BOLSAS", fundo: "imagens/fundo4.jpg" },
        "normal:cuidados": { code: "cb488123148ae3", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo5.jpg" },
        "seca:rugas": { code: "c27058bf5435c0", btnText: "KIT SKINCARE PELE SECA/RUGAS", fundo: "imagens/fundo6.jpg" },
        "seca:manchas": { code: "c576effffa9d44", btnText: "KIT SKINCARE PELE SECA/MANCHAS", fundo: "imagens/fundo7.jpg" },
        "seca:textura": { code: "c82c339b452790", btnText: "KIT SKINCARE PELE SECA/TEXTURA IRREGULAR", fundo: "imagens/fundo8.jpg" },
        "seca:olheiras": { code: "c0da964a3bc0f3", btnText: "KIT SKINCARE PELE SECA/OLHEIRAS/BOLSAS", fundo: "imagens/fundo9.jpg" },
        "seca:cuidados": { code: "ca00d8b5b4709f", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo10.jpg" },
        "oleosa:acne": { code: "c9c716fee63cf4", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo12.jpg" },
        "oleosa:oleosidade": { code: "ca378940a8b552", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo13.jpg" },
        "oleosa:rugas": { code: "cf96738128ecad", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo13.jpg" },
        "oleosa:manchas": { code: "c0a6edd71b61fb", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo11.jpg" },
        "oleosa:poros": { code: "caeea137bf61a5", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo14.jpg" },
        "oleosa:textura": { code: "cef863bc962f6d", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo15.jpg" },
        "oleosa:olheiras": { code: "cc52a91094d4a2", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo16.jpg" },
        "oleosa:cuidados": { code: "cef5018b3aa123", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo17.jpg" },
        "mista:oleosidade": { code: "c07841a948d85c", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo18.jpg" },
        "mista:rugas": { code: "ce2897f4a7eee0", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo19.jpg" },
        "mista:manchas": { code: "cc15b9d91ebbde", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo20.jpg" },
        "mista:poros": { code: "cbcd1f47617180", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo21.jpg" },
        "mista:textura": { code: "c8b69a2f725164", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo22.jpg" },
        "mista:olheiras": { code: "cdef8bc97a0935", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo23.jpg" },
        "mista:cuidados": { code: "c7dd96a899d299", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo24.jpg" },
        "sensivel:rugas": { code: "cfb6bed417d8d5", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo25.jpg" },
        "sensivel:rosacea": { code: "c48d67f007290f", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo26.jpg" },
        "sensivel:manchas": { code: "cbc61faa787a30", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo27.jpg" },
        "sensivel:poros": { code: "cb1c59c359e459", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo28.jpg" },
        "sensivel:textura": { code: "c58c0ee072bbda", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo29.jpg" },
        "sensivel:olheiras": { code: "c429915e2d7fc0", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo30.jpg" },
        "sensivel:cuidados": { code: "cd29031912d0d7", btnText: "INICIAR/MANTER OS CUIDADOS COM A PELE", fundo: "imagens/fundo31.jpg" }
      };

      // Constrói a chave para o mapeamento
      const key = skinType + ":" + challenge;
      const result = resultMapping[key];

      const resultContainer = document.getElementById("resultContainer");
      resultContainer.innerHTML = "";

      if (result) {
        // Define o fundo da página 8 de acordo com o kit
        document.body.className = ""; // Remove o fundo padrão
        document.body.style.background = `url('${result.fundo}') no-repeat center center fixed`;
        document.body.style.backgroundSize = "cover";
        // Cria o botão com o link
        const btn = document.createElement("a");
        btn.href = baseUrl + result.code;
        btn.target = "_blank";
        btn.innerText = result.btnText;
        resultContainer.appendChild(btn);
      } else {
        resultContainer.innerHTML = "Não foi possível determinar o kit. Por favor, revise suas respostas.";
      }
    }

    // Função para navegação entre páginas
    function goToPage(pageNumber) {
      document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
      document.getElementById('page' + pageNumber).classList.add('active');
    }

    // Funções para salvar respostas e avançar
    function saveNameAndGoToPage(pageNumber) {
      const nameInput = document.getElementById("userName").value;
      if (nameInput.trim() === "") {
        alert("Por favor, insira seu nome!");
        return;
      }
      userName = nameInput;
      goToPage(pageNumber);
    }

    function saveAgeAndGoToPage(pageNumber) {
      const ageElement = document.querySelector('input[name="age"]:checked');
      if (!ageElement) {
        alert("Selecione sua idade!");
        return;
      }
      age = ageElement.value;
      goToPage(pageNumber);
    }

    function saveSkinTypeAndGoToPage(pageNumber) {
      const skinTypeElement = document.querySelector('input[name="skinType"]:checked');
      if (!skinTypeElement) {
        alert("Selecione seu tipo de pele!");
        return;
      }
      skinType = skinTypeElement.value;
      // Preenche o campo oculto na página 6
      document.getElementById("hiddenSkinType").value = skinType;
      goToPage(pageNumber);
      loadChallengeOptions(skinType);
    }

    function saveChallengeAndGoToPage(pageNumber) {
      const challengeElement = document.querySelector('input[name="challenge"]:checked');
      if (!challengeElement) {
        alert("Selecione o desafio da sua pele!");
        return;
      }
      challenge = challengeElement.value;
      goToPage(pageNumber);
      // Se for a página 7, inicia o carregamento (neste fluxo, a página 7 exibe o carregamento por 4 segundos e depois avança para a 8)
      if (pageNumber === 7) {
        setTimeout(() => { 
          goToPage(8);
          generateResult();
        }, 4000);
      }
    }

    // Variáveis globais para armazenar respostas
    let userName = "";
    let age = "";
    let skinType = "";
    let challenge = "";
  </script>
</body>
</html>

